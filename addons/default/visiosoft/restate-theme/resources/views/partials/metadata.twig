<!-- VueJS Requirements -->
<meta name="csrf-token" content="{{ csrf_token() }}"/>

<!-- To the Future! -->
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

<!-- Meta Tags -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, viewport-fit=cover">
<meta name="description"
      content="{{ (template.get('meta_description') ?: setting_value('streams::description'))|slice(0,160) }}"/>
<meta name="keywords" content="{{ template.get('meta_keywords') }}" />

{% set allowed_domains = setting_value('visiosoft.theme.restate::domains_allowed_iframe_access') %}

{% if not empty(allowed_domains) %}
    <meta http-equiv="Content-Security-Policy" content="frame-ancestors 'self' {% for domain in allowed_domains %} {{domain}}{% endfor%} ">
{% endif %}

{{ setting_value('visiosoft.module.advs::google_statistic_code')|raw }}
<!-- Meta Tags -->

{% set additionalMeta = template.get('additional_meta') %}
{{ additionalMeta ? additionalMeta|raw }}

<title>
    {% set title = trans(template.meta_title) %}
    {% set showTitle = template.showTitle is same as(false) ? false : true %}
    {% if showTitle %}
        {% set title = setting_value('streams::name', config_get('streams::distribution.name'))~" | "~trans(template.meta_title) %}
    {% endif %}
    {{ title|slice(0,60) }}
</title>

{% block ogdata %}
    <meta property="og:site_name"
          content="{{ template.get('og_site_name', setting_value('streams::name', config_get('streams::distribution.name'))) }}"/>
    <meta property="og:description" content="{{ (template.get('meta_description') ?: setting_value('streams::description'))|slice(0,160) }}"/>
    <meta property="og:title" content="{{ (setting_value('streams::name', config_get('streams::distribution.name'))~" | "~trans(template.meta_title))|slice(0,60) }}"/>
    <meta property="og:url" content="{{ app.request.uri }}"/>
    <meta property="og:image" content="{{ template.get('og_image', file(setting_value('visiosoft.module.advs::ogImage')).make.url) }}"/>
    <meta property="og:type" content="website"/>

    <!-- Meta for twitter sharing -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="{{ template.get('og_site_name', setting_value('streams::name', config_get('streams::distribution.name'))) }}">
    <meta name="twitter:title" content="{{ (setting_value('streams::name', config_get('streams::distribution.name'))~" | "~trans(template.meta_title))|slice(0,60) }}">
    <meta name="twitter:description" content="{{ (template.get('meta_description') ?: setting_value('streams::description'))|slice(0,160) }}">
    <meta name="twitter:image" content="{{ template.get('og_image', file(setting_value('visiosoft.module.advs::ogImage')).make.url) }}">
{% endblock %}
<!-- Favicon -->
{% set favicon = setting_value(config('streams::themes.standard') ~ '::favicon') %}
{% if favicon %}
    {{ favicons(file(favicon).make.url) }}
{% endif %}

{{ asset_add("theme.css", "visiosoft.theme.restate::css/base/animate.min.css") }}
{{ asset_add("theme.css", "visiosoft.theme.restate::css/base/base.css") }}
{{ asset_add("theme.css", "visiosoft.theme.restate::css/bootstrap.min.css") }}
{{ asset_add("theme.css", "visiosoft.theme.restate::css/base/bootstrap-notify-visio.css") }}
{{ asset_add("theme.css", "visiosoft.theme.restate::css/bootstrap-multiselect.min.css") }}
{{ asset_add("theme.css", "visiosoft.theme.restate::css/base/error.css") }}
{{ asset_add("theme.css", "visiosoft.theme.restate::css/base/flags.css") }}
{{ asset_add("theme.css", "visiosoft.theme.restate::css/base/forgot.css") }}
{{ asset_add("theme.css", "visiosoft.theme.restate::css/base/gallery.css") }}
{{ asset_add("theme.css", "visiosoft.theme.restate::css/base/intlTelInput.css") }}
{{ asset_add("theme.css", "visiosoft.theme.restate::css/base/jquery-ui.min.css") }}
{{ asset_add("theme.css", "visiosoft.theme.restate::css/base/login.css") }}
{{ asset_add("theme.css", "visiosoft.theme.restate::css/base/register.css") }}
{{ asset_add("theme.css", "visiosoft.theme.restate::css/base/theme.css") }}
{{ asset_add("theme.css", "visiosoft.module.location::css/filterLocation.css") }}
{{ asset_add("theme.css", "visiosoft.theme.restate::css/base/select2.css") }}
{{ asset_add("theme.css", "visiosoft.theme.restate::css/base/intlTelInput.css") }}
{{ asset_add("theme.css", "visiosoft.theme.restate::css/slick.css",['min']) }}
{{ asset_add("theme.css", "visiosoft.theme.restate::css/slick-theme.css",['min']) }}
{{ asset_add("theme.css", "visiosoft.theme.restate::scss/style.scss",['scss','min']) }}
{{ asset_add("theme.css", "visiosoft.theme.restate::css/style.css",['min']) }}

{{ asset_style("theme.css", ['min']) }}
<script src="https://code.jquery.com/jquery-3.7.1.min.js"
        integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css" integrity="sha512-Kc323vGBEqzTmouAECnVceyQqyqdsSiqLQISBL29aUW4U/M7pSPA/gEUZQqv1cwx4OnYxTxve5UMg5GT6L4JJg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
{{ constants() }}
